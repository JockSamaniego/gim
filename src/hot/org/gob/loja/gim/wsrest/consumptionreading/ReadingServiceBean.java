package org.gob.loja.gim.wsrest.consumptionreading;

//@Stateless(name="ReadingServiceREST")
//@Interceptors({SecurityInterceptor.class})
public class ReadingServiceBean implements ReadingService{

	/*@In
	EntityManager em;
	
	@SuppressWarnings("unchecked")
	public List<DtoRoute> findDtoRouteListByUser() {
		System.out.println("<<<<R>>>> Ingreso a findDtoRouteListByUser en ReadingServiceBean");
		Query query;
		System.out.println("<<<<R>>>> Ingreso a findDtoRouteListByUser en ReadingServiceBean 2");
//		query = em.createNamedQuery("Route.findPendingRouteByReadingMan");
		query = em.createNativeQuery("SELECT DISTINCT r.id, r.name, c.year, c.month "
				+ "from consumption c inner join watersupply ws on ws.id = c.watersupply_id "
				+ "inner join route r on r.id = ws.route_id "
				+ "inner join routeperiod rp on r.id = rp.route_id "
				+ "where rp.readingman_id = 0 and c.readingdate is null");
		System.out.println("<<<<R>>>> Ingreso a findDtoRouteListByUser en ReadingServiceBean 3");
		return (List<DtoRoute>) query.getResultList();
	}

	@SuppressWarnings("unchecked")
	public List<DtoRoute> findRouteList() {
		System.out.println("<<<<R>>>> Ingreso a findRouteList en ReadingServiceBean");
		Query query;
		query = em.createNamedQuery("Route.findRoutes");
		System.out.println("<<<<R>>>> Ingreso a findRouteList en ReadingServiceBean");
		List<DtoRoute> dtoR = new ArrayList<DtoRoute>();
		List<Route> lista = (List<Route>) query.getResultList();
		for (Route route : lista) {
			DtoRoute dr = new DtoRoute();
//			dr.setRouteId(route.getId());
			dr.setRouteName(route.getName());
			dtoR.add(dr);
		}
		return dtoR;
	}*/
}
