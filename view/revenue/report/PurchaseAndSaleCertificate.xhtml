<p:document xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://jboss.org/schema/seam/pdf"
	xmlns:e="http://jboss.org/schema/seam/excel"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core" fileName="#{messages['revenue.solvencyCertificate']}.pdf" 
	title="#{messages['revenue.solvencyCertificate']}" subject="report" type="pdf"
	size="A4" orientation="portrait" margins="120 60 40 10" keywords="mykeyword" >

	<f:facet name="header">
		<p:font size="7" name="HELVETICA">
			<p:header borderWidthTop="0" borderWidthBottom="0" alignment="center">
				<p:paragraph>
					<p:table columns="1" widthPercentage="100" spacingAfter="10">
						<f:facet name="defaultCell">
							<p:cell borderWidth="0" />
						</f:facet>
						<p:cell>
							<p:font size="17" style="bold">
								<p:paragraph alignment="center">#{gim.institution.name.toUpperCase()}</p:paragraph>
							</p:font>

							<p:font size="7" style="bold">
								<p:paragraph alignment="center">#{gim.institution.address}. #{messages['institution.phone']}: #{gim.institution.phone} -  #{messages['institution.fax']}: #{gim.institution.fax}</p:paragraph>
							</p:font>
						</p:cell>
					</p:table>
				</p:paragraph>
			</p:header>
		</p:font>
	</f:facet>

	<p:font size="8" name="HELVETICA">

		<p:table columns="1" spacingBefore="10" spacingAfter="15"
			widthPercentage="100" headerRows="0">
			<p:cell borderWidth="0"/>
		</p:table>
		
		<p:font size="16" style="bold">
			<p:paragraph alignment="center">#{messages['SOLVENCYCERTIFICATE'].toUpperCase()}</p:paragraph>
		</p:font>
		
		<p:font size="10" style="bold">
			<p:paragraph alignment="center" spacingAfter="15">PARA TRASPASO DE DOMINIO DE BIENES INMUEBLES</p:paragraph>
		</p:font>
		
		<p:paragraph spacingAfter="15" spacingBefore="10" alignment="justify" verticalAlignment="10" leading="20">
				<p:font size="14">
					<p:text
						value="#{municipalBondConditionByProperty.revenueDelegate.name} #{municipalBondConditionByProperty.revenueCharge.name.toUpperCase()} a petición verbal de parte interesada, " />
				</p:font>	
		</p:paragraph>	

		<p:paragraph spacingAfter="10" spacingBefore="10" alignment="justify" verticalAlignment="10" leading="25">
				<p:font size="16" style="bold">
					<p:text
						value="C E R T I F I C A:" />
				</p:font>
		</p:paragraph>

		<p:paragraph spacingAfter="10" spacingBefore="10" alignment="justify" verticalAlignment="10" leading="25">
					
		
			<p:font size="14">
				<p:text
					value="Que, revisado el Sistema Informático, se comprueba que el contribuyente: " />
			</p:font>
			
			<p:font size="15" style="bold">
				<p:text
					value=" #{municipalBondConditionByProperty.resident.name}" />
			</p:font>
			
			<p:font size="14" >
				<p:text
					value=" , con número de identificación: " />
			</p:font>
			
			<p:font size="15" style="bold">
				<p:text
					value=" #{municipalBondConditionByProperty.resident.identificationNumber}, " />
			</p:font>
			
			<p:font size="20" style="bold">
				<p:text
					value=" #{empty municipalBondConditionByProperty.result ? 'NO' : 'SI'}" />
			</p:font>
			
			<p:font size="14">
				<p:text
					value=" tiene obligaciones pendientes con la institución #{gim.institution.name.toUpperCase()}" />
			</p:font>
			
			
		</p:paragraph>
		
		<p:paragraph spacingAfter="15" spacingBefore="20" alignment="justify" verticalAlignment="10" leading="25">
				<p:font size="14">
					<p:text
						value="El presente certificado es válido para efectuar el siguiente traspaso de dominio:" />
				</p:font>
		</p:paragraph>
		
		<p:paragraph spacingAfter="1" spacingBefore="5" alignment="justify" verticalAlignment="10" leading="15">
				<p:font size="14" style="bold">
					<p:text
						value="DIRECCIÓN DEL INMUEBLE: " />
				</p:font>
				<p:font size="14">
					<p:text
						value="#{municipalBondConditionByProperty.property.address}" />
				</p:font>
		</p:paragraph>
		
		<p:paragraph spacingAfter="1" spacingBefore="5" alignment="justify" verticalAlignment="10" leading="25">
				<p:font size="14" style="bold">
					<p:text
						value="CLAVE CATASTRAL: " />
				</p:font>
				<p:font size="14">
					<p:text
						value="#{municipalBondConditionByProperty.property.propertyType.id == 1 ? municipalBondConditionByProperty.property.previousCadastralCode : municipalBondConditionByProperty.property.previousCadastralCode.subSequence(5,municipalBondConditionByProperty.property.previousCadastralCode.length())}" />
				</p:font>
		</p:paragraph>
		
		<p:paragraph spacingAfter="0" spacingBefore="15" alignment="justify" verticalAlignment="10" leading="25">
				<p:font size="14" style="bold">
					<p:text
						value="PARA EL SERVICIO DE: " />
				</p:font>
				<p:font size="14">
					<p:text
						value="#{municipalBondConditionByProperty.motivation}" />
				</p:font>
		</p:paragraph>
		
		<p:paragraph spacingAfter="0" spacingBefore="15" alignment="justify" verticalAlignment="10" leading="25">
				<p:font size="14" style="bold">
					<p:text
						value="VALIDEZ: " />
				</p:font>
				<p:font size="14">
					<p:text
						value="UN MES A PARTIR DE LA PRESENTE FECHA" />
				</p:font>
		</p:paragraph>
		
		<p:paragraph spacingAfter="0" spacingBefore="5" alignment="right" verticalAlignment="10" leading="25">
			<p:font size="10">
				<p:text value="#{messages['Loja']}, " />
				<p:text value="#{currentDatetime}">
					<f:convertDateTime
						pattern="#{messages['common.dateFullTimePattern']}" />
				</p:text>
			</p:font>
		</p:paragraph>

		<p:table rendered="#{not empty municipalBondConditionByProperty.result}"
			columns="1" spacingBefore="10" spacingAfter="5"
			widthPercentage="100" headerRows="0">
			<p:font size="13" style="bold">
				<f:facet name="defaultCell">
					<p:cell borderWidth="0" />
				</f:facet>

				<p:cell horizontalAlignment="center" borderWidth="0">
					<p:paragraph>
						<p:text value="#{messages['DETAIL']}" />
					</p:paragraph>
				</p:cell>
			</p:font>
		</p:table>

		<p:table rendered="#{not empty municipalBondConditionByProperty.result}"
			columns="4" spacingBefore="13" spacingAfter="1"
			widthPercentage="100" headerRows="0" widths="2 1 1 1">
			<p:font size="10" style="bold">
				<f:facet name="defaultCell">
					<p:cell borderWidth="0" />
				</f:facet>

				<p:cell horizontalAlignment="center">
					<p:paragraph>
						<p:text value="#{messages['entry']}" />
					</p:paragraph>
				</p:cell>

				<p:cell horizontalAlignment="center">
					<p:paragraph>
						<p:text value="#{messages['municipalBond.emissionDate']}" />
					</p:paragraph>
				</p:cell>

				<p:cell horizontalAlignment="center">
					<p:paragraph>
						<p:text value="#{messages['municipalBond.expirationDate']}" />
					</p:paragraph>
				</p:cell>

				<p:cell horizontalAlignment="center">
					<p:paragraph>
						<p:text value="#{messages['item.value']}" />
					</p:paragraph>
				</p:cell>

			</p:font>

			<ui:repeat value="#{municipalBondConditionByProperty.result}" var="_var">
				<p:font size="10" style="normal,italic">
					<p:cell borderWidth="0" borderWidthBottom="1">
						<p:paragraph>
							<p:text value="#{_var.entry.name}" />
						</p:paragraph>
					</p:cell>

					<p:cell borderWidth="0" borderWidthBottom="1">
						<p:paragraph>
							<p:text value="#{_var.emisionDate}">
								<f:convertDateTime pattern="#{messages['common.datePattern']}" />
							</p:text>
						</p:paragraph>
					</p:cell>

					<p:cell horizontalAlignment="right" borderWidth="0"
						borderWidthBottom="1">
						<p:paragraph>
							<p:text value="#{_var.expirationDate}">
								<f:convertDateTime pattern="#{messages['common.datePattern']}" />
							</p:text>
						</p:paragraph>
					</p:cell>

					<p:cell horizontalAlignment="right" borderWidth="0"
						borderWidthBottom="1">
						<p:paragraph>
							<p:text value="#{_var.paidTotal}">
								<f:convertNumber pattern="#0.00" />
							</p:text>
						</p:paragraph>
					</p:cell>

				</p:font>
			</ui:repeat>

			<p:font size="12" style="bold">
				<p:cell borderWidth="0" />
				<p:cell borderWidth="0" />


				<p:cell horizontalAlignment="center" borderWidth="0"
					borderWidthBottom="1">
					<p:paragraph>
						<p:text value="#{messages['item.total']}" />
					</p:paragraph>
				</p:cell>

				<p:cell horizontalAlignment="right" borderWidth="0"
					borderWidthBottom="1">
					<p:paragraph>
						<p:text value="#{municipalBondConditionByProperty.total}">
							<f:convertNumber pattern="#0.00" />
						</p:text>
					</p:paragraph>
				</p:cell>


			</p:font>
		</p:table>
		
		<p:table columns="2" widthPercentage="80" headerRows="0" spacingBefore="35" >
			<f:facet name="defaultCell">
				<p:cell borderWidth="0" horizontalAlignment="center" />
			</f:facet>
			<p:cell colspan="1" borderWidth="0" horizontalAlignment="center">
				<p:paragraph alignment="center">
					<p:font size="7" style="bold">
						<p:text value="____________________________" />
					</p:font>
				</p:paragraph>
				<p:paragraph alignment="center">
					<p:font size="7" style="bold">
						<p:text
							value="#{municipalBondConditionByProperty.revenueDelegate.name.toUpperCase()}" />
					</p:font>
				</p:paragraph>				
				<p:paragraph alignment="center">
					<p:font size="7" style="bold">
						<p:text
							value="#{municipalBondConditionByProperty.revenueCharge.name.toUpperCase()}" />
					</p:font>
				</p:paragraph>
		
			</p:cell>					
			
			<p:cell colspan="1" borderWidth="0">
				<p:paragraph alignment="center">
					<p:font size="7" style="bold">
						<p:text value="____________________________" />
					</p:font>
				</p:paragraph>
				<p:paragraph alignment="center">
					<p:font size="7" style="bold">
						<p:text value="#{userSession.user.resident.name}" />		
					</p:font>
				</p:paragraph>				
				<p:paragraph alignment="center">
					<p:font size="7" style="bold">
						<p:text value="RESPONSABLE" />
					</p:font>
				</p:paragraph>
		
			</p:cell>
			
		</p:table>

		




	</p:font>


</p:document>
