<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    template="../layout/template.xhtml">

<ui:define name="body">

    <h:form id="agentSearch" styleClass="edit">

        <h:outputText styleClass="formTitle" value="#{messages['vehicle.information']}" />    

        <rich:simpleTogglePanel label="#{messages['ucot.searchFilter']}" switchType="ajax">
            <s:decorate template="../layout/display.xhtml">
                <ui:define name="label">#{messages['infraction.plate']}:</ui:define>
                <h:inputText id="name" value="#{vehicleMakerHome.vehicleCriteriaSearch}"/>
            </s:decorate>

            <div style="clear:both">
                <span class="required">*</span>
                ejemplo: ABC0123
            </div>

      </rich:simpleTogglePanel>

        <div class="actionButtons">
            <h:commandButton id="search" value="#{messages['common.search']}" action="#{vehicleMakerHome.searchVehicleInformation()}" reRender= "vehicleUniqueInformation">
            </h:commandButton>
            <s:button id="reset" value="#{messages['common.reset']}" includePageParams="false"/>
        </div>
    </h:form>

    <rich:panel id="vehicleUniqueInformation" rendered="#{vehicleMakerHome.vUniqueDataList.size > 0}">
        <f:facet name="header">
            <h:panelGrid columns="1" columnClasses="headerTitle,">
                <h:outputText
                    value=" #{messages['vehicle.generalData']}" />
            </h:panelGrid>      
        </f:facet>

    <h:panelGrid columns="3">
        <h:panelGrid columns="1">

        <s:decorate id="codeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.code']}</ui:define>
                <h:inputText id="code"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).CODIGO_VEHICULO}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="plateNumberField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.plateNumber']}</ui:define>
                <h:inputText id="plateNumber"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).NUMERO_PLACA}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="numberCAMV_CPNField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.numberCAMV_CPN']}</ui:define>
                <h:inputText id="numberCAMV_CPN"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).NUMERO_CAMV_CPN}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="chasisNumberField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.chasisNumber']}</ui:define>
                <h:inputText id="chasisNumber"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).SERIAL_VIN_CHASIS}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="motorNumberField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.motorNumber']}</ui:define>
                <h:inputText id="motorNumber"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).NUMERO_MOTOR}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="statusCodeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.statusCode']}</ui:define>
                <h:inputText id="statusCode"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).CODIGO_ESTADO_AUTO}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="subcategoryCodeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.subcategoryCode']}</ui:define>
                <h:inputText id="subcategoryCode"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).CODIGO_SUB_CATEGORIA}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="lastYearPaymenteField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.lastYearPaymente']}</ui:define>
                <h:inputText id="lastYearPaymente"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).ULTIMO_ANIO_PAGADO}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="buyDateField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.buyDate']}</ui:define>
                <h:inputText id="buyDate"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).FECHA_COMPRA_REGISTRO}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="ownerTypeIdentificationField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.ownerTypeIdentification']}</ui:define>
                <h:inputText id="ownerTypeIdentification"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).TIPO_IDENTIFICAC_POTENC_PROP}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="ownerIdentificationNumberField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.ownerIdentificationNumber']}</ui:define>
                <h:inputText id="ownerIdentificationNumber"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).NUMERO_IDENTIFICAC_POTENC_PROP}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="ownerNameField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.ownerName']}</ui:define>
                <h:inputText id="ownerName"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).RAZON_SOCIAL_POTENC_PROP}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="cityCodeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.cityCode']}</ui:define>
                <h:inputText id="cityCode"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).CODIGO_CANTON}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>
        
        <s:decorate id="cityDescriptionField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.cityDescription']}</ui:define>
                <h:inputText id="cityDescription"
                          value="#{vehicleMakerHome.vUniqueDataList.get(0).DESCRIPCION_CANTON}"
                          readonly = "true"
                          size="40">
                </h:inputText>
        </s:decorate>

            <div style="clear:both" />
        </h:panelGrid>
        <rich:panel id = "generalInformation" rendered="#{vehicleMakerHome.vGeneralDataList.size > 0}">
            <f:facet name="header">
                <h:panelGrid columns="1" columnClasses="headerTitle,">
                  <h:outputText
                    value="#{messages['vehicle.generalInformation']}" />
                </h:panelGrid>      
            </f:facet>
            <s:decorate id="markCodeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.markCode']}</ui:define>
                <h:inputText id="markCode"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).CODIGO_MARCA}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="markDescriptionField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.markDescription']}</ui:define>
                <h:inputText id="markDescription"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).DESCRIPCION_MARCA}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="modelCodeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.modelCode']}</ui:define>
                <h:inputText id="modelCode"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).CODIGO_MODELO}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="modelDescriptionField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.modelDescription']}</ui:define>
                <h:inputText id="modelDescription"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).DRESCRIPCION_MODELO}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="fabricationYearField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.fabricationYear']}</ui:define>
                <h:inputText id="fabricationYear"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).ANIO_AUTO}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="countryCodeField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.countryCode']}</ui:define>
                <h:inputText id="countryCode"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).CODIGO_PAIS}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="countryDescriptionField" template="../layout/edit.xhtml" >
                <ui:define name="label">#{messages['vehicle.countryDescription']}</ui:define>
                <h:inputText id="countryDescription"
                          value="#{vehicleMakerHome.vGeneralDataList.get(0).DESCRIPCION_PAIS}"
                          readonly = "true"
                          size="35">
                </h:inputText>
            </s:decorate>

            <div style="clear:both" />

      </rich:panel>
      
      <rich:panel id="appraisalHistoryPanel" style="border:0px" rendered="#{vehicleMakerHome.vGeneralDataList.size > 0}">

					<rich:dataTable id="itemsAppraisal" var="_appraisal"
						value="#{vehicleMakerHome.vGeneralDataList}"
						columnClasses="number, number" width="100%">
						<f:facet name="header">
							<h:panelGrid columns="1" columnClasses="headerTitle,"
								styleClass="left">
								<h:outputText value="#{messages['vehicle.appraisalHistory']}"
									styleClass="left" />
							</h:panelGrid>
						</f:facet>

						<h:outputText value="#{messages['items.resultsItemNotFound']}"
							rendered="#{vehicleMakerHome.vGeneralDataList.size == 0}" />

						<rich:column rendered="#{vehicleMakerHome.vGeneralDataList.size > 0}"
							styleClass="center">
							<f:facet name="header">
								<h:outputText value="#{messages['vehicle.fromYear']}" />
							</f:facet>
							<h:outputText value="#{_appraisal.ANIO_DESDE}" />
						</rich:column>
						
						<rich:column rendered="#{vehicleMakerHome.vGeneralDataList.size > 0}"
							styleClass="center">
							<f:facet name="header">
								<h:outputText value="#{messages['vehicle.untilYear']}" />
							</f:facet>
							<h:outputText value="#{_appraisal.ANIO_HASTA}" />
						</rich:column>

						<rich:column rendered="#{vehicleMakerHome.vGeneralDataList.size > 0}"
							styleClass="right">
							<f:facet name="header">
								<h:outputText value="#{messages['vehicle.appraisalValue']}" />
							</f:facet>
							<h:outputText value="#{_appraisal.VALOR_AVALUO}" />
						</rich:column>

					</rich:dataTable>

					<div style="clear: both"></div>

				</rich:panel>
      

    </h:panelGrid>

    </rich:panel>



</ui:define>

</ui:composition>
