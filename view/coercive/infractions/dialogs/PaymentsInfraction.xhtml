<!DOCTYPE composition
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:a="http://richfaces.org/a4j" xmlns:c="http://java.sun.com/jstl/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:g="http://gim.gob.ec/jsf" >


	<ui:include src="DepositCoerciveInfractionsPanel.xhtml" />
		
	<rich:modalPanel id="paymentsInfraction">
		<f:facet name="header">
			<h:panelGroup>
				<h:outputText value="Pagos/abonos a notificación"></h:outputText>
			</h:panelGroup>
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/img/error.gif" style="cursor:pointer" id="hidelinkImpugnment4" />
				<rich:componentControl for="paymentsInfraction" attachTo="hidelinkImpugnment4" operation="hide"
					event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form id="paymentsInfractionForm">
			<rich:messages errorClass="errors" style="color:red" /> 
			<h:panelGrid  columns="2">
				<h:outputText value="Nombres:" style="font-weight:bold;"></h:outputText>
				<h:outputText value="#{notificationInfractionListHome.userData.name}"></h:outputText>
				<h:outputText value="Identificación:" style="font-weight:bold;"></h:outputText>
				<h:outputText value="#{notificationInfractionListHome.userData.identification}"></h:outputText>
				<h:outputText value="Correo electrónico:" style="font-weight:bold;"></h:outputText>
				<h:outputText value="#{notificationInfractionListHome.userData.mail}"></h:outputText>
				<h:outputText value="Teléfono:" style="font-weight:bold;"></h:outputText>
				<h:outputText value="#{notificationInfractionListHome.userData.phone}"></h:outputText>
			</h:panelGrid>
 
			<rich:panel  >
				<f:facet name="header">
					<h:panelGrid columns="2" columnClasses="headerTitle,">
						<h:outputText value="Abonos realizados" />
						<a:commandButton value="Agregar" id="newPayment" ajaxSingle="true" eventsQueue="gimQueue"
							oncomplete="Richfaces.showModalPanel('coerciveInfractionsPanel',{width:650, height:450})"
							reRender="paymentsInfraction, coerciveInfractionsPanel">
						</a:commandButton>
					</h:panelGrid>
				</f:facet>
				<div class="results" id="paymentAgreementAgreementList">
					<h:outputText value="#{messages['common.noResultsReturned']}"
					rendered="#{notificationInfractionListHome.payments.size == 0}" />
		
					<rich:dataTable id="paymentList" var="_payment" value="#{notificationInfractionListHome.payments}"
							rows="25" rendered="#{notificationInfractionListHome.payments.size != 0}">
						<f:facet name="footer">
							<g:dataScroller id="scroller" maxPages="10" for="paymentList" style="float:right;" />
						</f:facet>
						<rich:column styleClass="left">
							<f:facet name="header">
								<h:outputText value="Fecha" />
							</f:facet>
							<h:outputText value="#{_payment.date} #{_payment.time}" />
						</rich:column>
						
						<rich:column styleClass="left">
							<f:facet name="header">
								<h:outputText value="Tipo de pago" />
							</f:facet>
							<h:outputText value="#{_payment.paymentType.name}" />
						</rich:column>
						
										
						<rich:column styleClass="left">
							<f:facet name="header">
								<h:outputText value="Institución" />
							</f:facet>
							<h:outputText value="#{_payment.finantialInstitution.name}" />
						</rich:column>
						
						<rich:column styleClass="left">
							<f:facet name="header">
								<h:outputText value="Cuenta" />
							</f:facet>
							<h:outputText value="#{_payment.accountNumber}" />
						</rich:column>
						
						
						<rich:column styleClass="left">
							<f:facet name="header">
								<h:outputText value="Cuenta" />
							</f:facet>
							<h:outputText value="#{_payment.documentNumber}" />
						</rich:column>
						
						<rich:column styleClass="left">
							<f:facet name="header">
								<h:outputText value="Cajero" />
							</f:facet>
							<h:outputText value="#{_payment.cashier.name}" />
						</rich:column>
						
						<rich:column styleClass="right">
							<f:facet name="header">
								<h:outputText value="Cajero" />
							</f:facet>
							<h:outputText value="#{_payment.value}" />
						</rich:column>
						
					</rich:dataTable>
				</div>
		</rich:panel>
		</h:form>
	</rich:modalPanel>
</ui:composition>