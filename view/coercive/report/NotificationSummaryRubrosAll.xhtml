<p:document xmlns:ui="http://java.sun.com/jsf/facelets"
            xmlns:f="http://java.sun.com/jsf/core"
            xmlns:p="http://jboss.org/schema/seam/pdf"
            xmlns:e="http://jboss.org/schema/seam/excel"
            xmlns="http://www.w3.org/1999/xhtml"
            xmlns:h="http://java.sun.com/jsf/html"
            xmlns:s="http://jboss.org/schema/seam/taglib"
            xmlns:rich="http://richfaces.org/rich"
            xmlns:c="http://java.sun.com/jstl/core"
            xmlns:a4j="http://richfaces.org/a4j"
            title="#{messages['notifications']}" subject="report" type="pdf"
            size="A4" margins="40 20 30 20" keywords="mykeyword" author="jlgranda"
            creator="loxageek">

    <f:facet name="header">
        <p:font size="7" name="HELVETICA">
            <p:header borderWidthTop="0" borderWidthBottom="0" alignment="center">
                <p:paragraph>
                    <p:table columns="3" widthPercentage="100" spacingAfter="15"
                             widths="1 5 2">
                        <f:facet name="defaultCell">
                            <p:cell borderWidth="0" />
                        </f:facet>
                        <p:cell>
                            <p:image value="#{gim.institution.logo}" alignment="center" widht="1" height="1">
                                <s:transformImageSize height="70" maintainRatio="true"/>
                            </p:image>
                        </p:cell>
                        <p:cell>
                            <p:font size="8" style="bold">
                                <p:paragraph alignment="center">#{gim.institution.name.toUpperCase()}</p:paragraph>
                            </p:font>

                            <p:font size="7" style="bold">
                                <p:paragraph alignment="center">#{gim.institution.address}. #{messages['institution.phone']}: #{gim.institution.phone} -  #{messages['institution.fax']}: #{gim.institution.fax}</p:paragraph>
                            </p:font>

                            <p:font size="8" style="bold">
                                <p:paragraph alignment="center">#{messages['DIRECCION FINANCIERA']}</p:paragraph>
                            </p:font>

                            <p:font size="8" style="bold">
                                <p:paragraph alignment="center">#{messages['notification.reportNotificationPending'].toUpperCase()}</p:paragraph>
                            </p:font>
                        </p:cell>
                        <p:cell>
                            <p:paragraph alignment="right" spacingAfter="15">
                                <p:font size="10" name="HELVETICA">
                                    <p:text value="#{messages['Loja']}," />
                                    <p:text value="#{currentDatetime}">
                                        <f:convertDateTime
                                            pattern="#{messages['common.dateFullTimePattern']}" />
                                    </p:text>
                                </p:font>
                            </p:paragraph>
                        </p:cell>

                        <p:cell></p:cell>

                    </p:table>
                </p:paragraph>
            </p:header>
            <p:footer borderWidthTop="1" borderColorTop="blue"
                      borderWidthBottom="0" alignment="center">
                [<p:pageNumber />]
            </p:footer>
        </p:font>
    </f:facet>

    <p:font size="10" name="HELVETICA">

        <p:paragraph alignment="left" spacingBefore="20">
            <p:font size="12" style="bold" name="HELVETICA">
                <p:text value="#{messages['common.printBy']}: " />
            </p:font>
            <p:font size="12" name="HELVETICA">
                <p:text value="#{userSession.user.resident.name}" />
            </p:font>
        </p:paragraph>

        <p:paragraph alignment="left">
            <p:font size="12" style="bold" name="HELVETICA">
                <p:text value="#{messages['notification.startDate']}: " />
            </p:font>
            <p:font size="12" name="HELVETICA">
                <p:text value="#{notificationHome.startDate}">
                    <f:convertDateTime pattern="#{messages['common.datePattern']}" />
                </p:text>
            </p:font>
        </p:paragraph>

        <p:paragraph alignment="left" spacingAfter="20">
            <p:font size="12" style="bold" name="HELVETICA">
                <p:text value="#{messages['notification.endDate']}: " />
            </p:font>
            <p:font size="12" name="HELVETICA">
                <p:text value="#{notificationHome.endDate}">
                    <f:convertDateTime pattern="#{messages['common.datePattern']}" />
                </p:text>
            </p:font>
        </p:paragraph>


        <p:paragraph>
            <p:table columns="3" widthPercentage="80" spacingAfter="15"
                     spacingBefore="10" widths="1 1 1">
                <f:facet name="defaultCell">
                    <p:cell borderWidth="1" />
                </f:facet>

                <p:cell horizontalAlignment="left">
                    <p:paragraph spacingAfter="2">
                        <p:font size="11" style="bold" name="HELVETICA">
                            <p:text value="#{messages['notification.contribuyenteNotification']}: " />
                        </p:font>
                    </p:paragraph>
                </p:cell>
                <p:cell horizontalAlignment="left">
                    <p:paragraph spacingAfter="2">
                        <p:font size="11" style="bold" name="HELVETICA">
                            <p:text value="#{messages['notification.number']}: " />
                        </p:font>
                    </p:paragraph>
                </p:cell>
                <p:cell horizontalAlignment="left">
                    <p:paragraph spacingAfter="2">
                        <p:font size="11" style="bold" name="HELVETICA">
                            <p:text
                                value="#{messages['notification.totalNotificationPendings']}: " />
                        </p:font>
                    </p:paragraph>
                </p:cell>

                <ui:repeat value="#{notificationHome.notificationTotalDescendentOrden}" var="doc">

                    <p:cell horizontalAlignment="right">
                        <p:paragraph spacingAfter="2">
                            <p:font size="11" name="HELVETICA">
                                <p:text value="#{doc.numberNotification}" />
                            </p:font>
                        </p:paragraph>
                    </p:cell>

                    <p:cell horizontalAlignment="right">
                        <p:paragraph spacingAfter="2">
                            <p:font size="11" name="HELVETICA">
                                <p:text value="#{doc.nameBound}" />
                            </p:font>
                        </p:paragraph>
                    </p:cell>


                    <p:cell horizontalAlignment="right">
                        <p:paragraph spacingAfter="2">
                            <p:font size="11" name="HELVETICA">
                                <p:text value="#{doc.value}" />
                            </p:font>
                        </p:paragraph>
                    </p:cell>
                </ui:repeat>

            </p:table>
        </p:paragraph>

    </p:font>


</p:document>
