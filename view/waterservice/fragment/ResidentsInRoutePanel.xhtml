<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<h:panelGrid columns="1">
		<s:decorate id="residentsInRoutePanel" template="../../layout/edit.xhtml">
			<ui:define name="label">#{messages['waterservice.routeId']}:</ui:define>
			<h:inputText id="value" value="#{waterMeterHome.route_id2}"
				styleClass="left">
				<a:support event="onblur" eventsQueue="gimQueue"
					reRender="value" />
			</h:inputText>
		</s:decorate>
		
		<h:panelGrid columns="2">
			<s:decorate id="year" template="../../layout/edit.xhtml">
				<ui:define name="label">#{messages['waterservice.waterYear']}:</ui:define>
				<h:inputText id="value2" value="#{waterMeterHome.waterYear}"
					styleClass="left">
					<a:support event="onblur" eventsQueue="gimQueue"
						reRender="value2" />
				</h:inputText>
			</s:decorate>
			<s:decorate id="month" template="../../layout/edit.xhtml">
				<ui:define name="label">#{messages['waterservice.waterMonth']}:</ui:define>
				<h:selectOneMenu id="value3" value="#{waterMeterHome.waterMonth}"
					styleClass="left">
					<f:selectItem itemValue="0" itemLabel="Seleccione Uno" />
					<f:selectItem itemValue="1" itemLabel="Enero" />
					<f:selectItem itemValue="2" itemLabel="Febrero" />
	   				<f:selectItem itemValue="3" itemLabel="Marzo" />
	   				<f:selectItem itemValue="4" itemLabel="Abril" />
	   				<f:selectItem itemValue="5" itemLabel="Mayo" />
					<f:selectItem itemValue="6" itemLabel="Junio" />
					<f:selectItem itemValue="7" itemLabel="Julio" />
	   				<f:selectItem itemValue="8" itemLabel="Agosto" />
	   				<f:selectItem itemValue="9" itemLabel="Septiembre" />
	   				<f:selectItem itemValue="10" itemLabel="Octubre" />
					<f:selectItem itemValue="11" itemLabel="Noviembre" />
					<f:selectItem itemValue="12" itemLabel="Diciembre" />
					<a:support event="onchange" eventsQueue="gimQueue"
						reRender="value3" />
				</h:selectOneMenu>
			</s:decorate>
		</h:panelGrid>
	</h:panelGrid>
	<div class="actionButtons">
            <h:commandButton id="search3" value="#{messages['common.search']}" reRender="residentsInRouteTable">
            </h:commandButton>
    </div>
    
    <rich:spacer height="20px"></rich:spacer>

	<rich:dataTable id="residentsInRouteTable"
		value="#{waterMeterHome.findResidentsInRoute()}" var="_resident"
		rowClasses="rvgRowOne,rvgRowTwo" columnClasses="tableCellFont"
		style="margin-top:5px;"
		rendered="#{waterMeterHome.findResidentsInRoute().size()>0}">
		<rich:column styleClass="action" style="align:right;">
            <f:facet name="header">#{messages['waterservice.waterSupplyId']}
            </f:facet>
            <h:outputText value="#{_resident.waterSupplyId}"/>
        </rich:column>
        <rich:column styleClass="action" style="align:right;">
            <f:facet name="header">
                #{messages['waterservice.serviceNumber']}
            </f:facet>
            <h:outputText value="#{_resident.serviceNumber}"/>
        </rich:column>
        <rich:column styleClass="action" style="align:right;">
            <f:facet name="header">
                #{messages['waterservice.routeOrder']}
            </f:facet>
            <h:outputText value="#{_resident.routeOrder}"/>
        </rich:column> 	        
	</rich:dataTable>

</ui:composition>
