<p:document xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://jboss.com/products/seam/pdf"
	xmlns:e="http://jboss.com/products/seam/excel"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	title="#{messages['domain.changeOwner']}" subject="report" type="pdf"
	size="LETTER" keywords="mykeyword" author="gadml_ra" creator="gadml_ra"
	orientation="landscape" margins="10 10 50 50">
 
	<f:facet name="header">
		<p:font size="9" name="ARIAL" style="bold">
			<p:header borderWidthTop="0" borderWidthBottom="1" alignment="center">
				<p:paragraph>
					<p:table columns="8" widthPercentage="100" spacingAfter="5">
						<f:facet name="defaultCell">
							<p:cell borderWidth="0" />
						</f:facet>
						<p:cell colspan="8">

							<p:paragraph alignment="center" spacingAfter="5">
								<p:text value="#{gim.institution.name.toUpperCase()}" />
							</p:paragraph>
							<p:paragraph alignment="center" spacingAfter="5">
								<p:text value="COMPROBANTE DE RETENCIÓN" />	
							</p:paragraph>
							<p:paragraph alignment="center" spacingAfter="5">
								<p:text value="Nro.: #{electronicVoucherHome.instance.sequentialNumber}" />
							</p:paragraph>
						</p:cell>
						
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="Clave de acceso: #{electronicVoucherHome.instance.accessCode}" /> 
							</p:paragraph>
						</p:cell>
						
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="Nro. autorización SRI: #{electronicVoucherHome.instance.authorizationCode}" /> 
							</p:paragraph>
						</p:cell>
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="Fecha de authorización: #{electronicVoucherHome.instance.authorizationDate}" /> 
							</p:paragraph>
						</p:cell>
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="Nro Factura: #{electronicVoucherHome.instance.documentNumber}" /> 
							</p:paragraph>
						</p:cell>
						
						
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="#{messages['electronicVoucher.emissionDate']}: #{electronicVoucherHome.instance.emissionDate} #{electronicVoucherHome.instance.emisionTime}" /> 
							</p:paragraph>
						</p:cell>
						
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="#{messages['common.resident']}: #{electronicVoucherHome.instance.provider.name} #{electronicVoucherHome.instance.provider.lastname}" /> 
							</p:paragraph>
						</p:cell>
						
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="#{messages['common.identificationNumber']}: #{electronicVoucherHome.instance.provider.identificationNumber}" /> 
							</p:paragraph>
						</p:cell>
						 
												
						<p:cell colspan="8">
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="#{messages['emisor']}: #{electronicVoucherHome.instance.emitter.name}" /> 
							</p:paragraph>
						</p:cell>
					</p:table>
				</p:paragraph>
				PAG.:<p:pageNumber />
			</p:header>
		</p:font>
	</f:facet>

	<p:paragraph spacingAfter="15">
	</p:paragraph>
	
	<p:font size="9" name="Draft" style="NORMAL">

		<p:table columns="5" widthPercentage="100" headerRows="0"
			widths="1.5 1.5 3 1.5 1">

			<p:cell horizontalAlignment="center">
				<p:paragraph>
				    <p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['electronicVoucher.taxableBase']}" />
					</p:font>
				</p:paragraph>
			</p:cell>
			
			<p:cell horizontalAlignment="center">
				<p:paragraph>
					 <p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['electronicVoucher.retentionTax']}" />
					</p:font>
				</p:paragraph>
			</p:cell>

			<p:cell horizontalAlignment="center">
				<p:paragraph>
					 <p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['electronicVoucher.codeTax']}" />
					</p:font>
				</p:paragraph>
			</p:cell>


			<p:cell horizontalAlignment="center">
				<p:paragraph>
					 <p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['electronicVoucher.percentaje']}" />
					</p:font>
				</p:paragraph>
			</p:cell>
 

			<p:cell horizontalAlignment="center">
				<p:paragraph>
					 <p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['electronicVoucher.total']}" />
					</p:font>
				</p:paragraph>
			</p:cell>
 
			<ui:repeat value="#{electronicVoucherHome.instance.details}" var="detail">

				<p:cell>
					<p:paragraph>
						<p:text value="#{detail.taxableBase}" />
					</p:paragraph>
				</p:cell>
				
				<p:cell>
					<p:paragraph>
						<p:text value="#{detail.retentionTax}" />
					</p:paragraph>
				</p:cell>

				<p:cell>
					<p:paragraph>
						<p:text value="#{detail.retentionCode.name}" />
					</p:paragraph>
				</p:cell>
				
				<p:cell>
					<p:paragraph >
						<p:text value="#{detail.retentionPercent}"> 
							<f:convertNumber maxFractionDigits="2" groupingUsed="false" />
						</p:text>
					</p:paragraph>
				</p:cell>

				<p:cell>
					<p:paragraph>
						<p:text value="#{detail.taxesTotal}" >
							<f:convertNumber maxFractionDigits="2" groupingUsed="false" />
						</p:text>
					</p:paragraph>
				</p:cell>
			</ui:repeat>
		</p:table>
		<p:font size="9" name="ARIAL" style="bold">
			<p:text value="#{messages['cashRecord.total']}: #{electronicVoucherHome.instance.total}" ></p:text>
		</p:font>
	</p:font>
	
	<p:paragraph spacingAfter="15">
	</p:paragraph>   

	<p:font size="9" name="ARIAL" style="bold">
				<p:paragraph>
					<p:table columns="8" widthPercentage="100" spacingAfter="5">
						<f:facet name="defaultCell">
							<p:cell borderWidth="0" />
						</f:facet>
						<p:cell colspan="8"> 
							<p:paragraph alignment="left" spacingAfter="5">
								<p:text value="Detalles adicionales" />	 
							</p:paragraph>
						</p:cell>
					</p:table>
				</p:paragraph>  
 	</p:font>
	<p:paragraph spacingAfter="15">
	</p:paragraph>  
	<p:font size="9" name="Draft" style="NORMAL">
		
		<p:table columns="2" widthPercentage="100" headerRows="0"
			widths="2 3">
			<p:cell horizontalAlignment="center">
				<p:paragraph>
					<p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['branch.name']}" />
					</p:font>
				</p:paragraph>
			</p:cell>
			
			<p:cell horizontalAlignment="center">
				<p:paragraph>
					<p:font size="9" name="ARIAL" style="bold">
						<p:text value="#{messages['payment.collectedValue']}" />
					</p:font>
				</p:paragraph>
			</p:cell>
			
			<ui:repeat value="#{electronicVoucherHome.instance.fields}" var="field">
				<p:cell>
					<p:paragraph>
						<p:text value="#{field.label}" />
					</p:paragraph>
				</p:cell>
				
				<p:cell>
					<p:paragraph>
						<p:text value="#{field.value}" />
					</p:paragraph>
				</p:cell>
			</ui:repeat>
		</p:table>
	</p:font>
	
</p:document>
